<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="copyright" content="Â© 2026 è›‹ä»”ç–¯ç‹‚å†œåœºæœå®è®¡ç®—å™¨ | ç‰ˆæƒæ‰€æœ‰">
    <meta name="author" content="æŠ–éŸ³:è›‹ä»”æ´¾å¯¹æ –å±±åä¸ƒ">
    <meta name="robots" content="noindex, nofollow">
    <title>è›‹ä»”ç–¯ç‹‚å†œåœºæœå®è®¡ç®—å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4ade80',
                        secondary: '#fbbf24',
                        accent: '#8b5cf6',
                        background: '#f0fdf4',
                        'price-high': '#ef4444',
                        'price-medium': '#f97316',
                        'price-low': '#22c55e'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            }
            .card-hover {
                @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
            }
            .input-focus {
                @apply focus:ring-2 focus:ring-primary focus:border-transparent;
            }
            .btn-primary {
                @apply bg-primary text-white px-4 py-2 rounded-lg hover:bg-green-500 transition-colors duration-300;
            }
            .btn-secondary {
                @apply bg-secondary text-white px-4 py-2 rounded-lg hover:bg-amber-500 transition-colors duration-300;
            }
            .btn-accent {
                @apply bg-accent text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors duration-300;
            }
            .btn-preset {
                @apply bg-blue-100 text-blue-800 px-3 py-2 rounded-lg hover:bg-blue-200 transition-colors duration-300 text-sm;
            }
            .btn-save-preset {
                @apply bg-purple-100 text-purple-800 px-2 py-1 rounded-lg hover:bg-purple-200 transition-colors duration-300 text-xs;
            }
            .tooltip {
                @apply invisible absolute bg-gray-800 text-white text-xs rounded py-1 px-2 -mt-10 opacity-0 transition-opacity duration-300;
            }
            .has-tooltip:hover .tooltip {
                @apply visible opacity-100 z-50;
            }
            .weather-neon {
                @apply text-black rounded border bg-gradient-to-r from-red-500 via-yellow-500 via-green-500 to-purple-500;
            }
            .weather-purple {
                @apply text-white rounded border bg-purple-600;
            }
            .weather-bg-light-gray {
                @apply bg-gray-200 text-black rounded p-0.5;
            }
            .weather-bg-light-green {
                @apply bg-green-200 text-black rounded p-0.5;
            }
            .weather-bg-light-blue {
                @apply bg-blue-200 text-black rounded p-0.5;
            }
        }
    </style>
    <script>
     var _hmt = _hmt || [];
     (function() {
       var hm = document.createElement("script");
       hm.src = "https://hm.baidu.com/hm.js?a4ac128e76e201285fc5ec70b7bb7af4";
       var s = document.getElementsByTagName("script")[0]; 
       s.parentNode.insertBefore(hm, s);
     })();
    </script>
</head>
<body class="bg-background min-h-screen font-sans">
    <div class="container mx-auto px-4 py-8">
        <!-- ç‰ˆæœ¬å·åŒºåŸŸ -->
        <div class="text-left mb-4 text-gray-500 font-medium">ç‰ˆæœ¬1.0</div>
        
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-2 text-shadow bg-clip-text text-transparent bg-gradient-to-r from-red-500 via-yellow-500 to-green-500">è›‹ä»”ç–¯ç‹‚å†œåœºæœå®è®¡ç®—å™¨</h1>
            <p class="text-gray-600">æœ¬è®¡ç®—å™¨å…è´¹ä½¿ç”¨ï¼Œåˆ‡å‹¿ç”¨äºå•†ä¸šä½¿ç”¨ï¼Œæœ‰é—®é¢˜è”ç³»ï¼ŒæŠ–éŸ³:è›‹ä»”æ´¾å¯¹æ –å±±åä¸ƒï¼Œåˆ›ä½œä¸æ˜“è¯·å¤šå¤šå…³æ³¨ğŸ˜­</p>
            <p class="text-red-600 font-bold text-lg">æ•°å€¼ç‰¹æ®Šæœ‰ä¸€å®šè¯¯å·®</p>
        </header>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <div class="grid grid-cols-1 gap-6">
            <!-- ä½œç‰©ä»·æ ¼è®¡ç®—å™¨ -->
            <div class="bg-white rounded-xl shadow-md p-6 card-hover">
                <h2 class="text-2xl font-bold text-green-700 mb-4 flex items-center">
                    <i class="fa fa-calculator mr-2"></i>ä½œç‰©ä»·æ ¼è®¡ç®—å™¨
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- å·¦ä¾§è¾“å…¥ -->
                    <div class="space-y-4">
                        <!-- ä½œç‰©é€‰æ‹©ï¼ˆæ–°å¢æ³¢æ–¯èŠï¼‰ -->
                        <div>
                            <label class="block text-gray-700 mb-2 font-medium">é€‰æ‹©ä½œç‰©</label>
                            <select id="cropSelect" class="w-full p-2 border border-gray-300 rounded-lg input-focus">
                                <option value="é­”é¬¼æœå¤©æ¤’">é­”é¬¼æœå¤©æ¤’</option>
                                <option value="èŸ æ¡ƒ">èŸ æ¡ƒ</option>
                                <option value="ä»™äººæŒè±¡">ä»™äººæŒè±¡</option>
                                <option value="æƒŠå¥‡è˜‘">æƒŠå¥‡è˜‘</option>
                                <option value="è‘¡è„">è‘¡è„</option>
                                <option value="å¤§ç‹èŠ">å¤§ç‹èŠ</option>
                                <option value="æ¾æœ">æ¾æœ</option>
                                <option value="å‘æ—¥è‘µ">å‘æ—¥è‘µ</option>
                                <option value="è‰è“">è‰è“</option>
                                <option value="çŒ•çŒ´æ¡ƒ">çŒ•çŒ´æ¡ƒ</option>
                                <option value="æ¦´è²">æ¦´è²</option>
                                <option value="è”æ">è”æ</option>
                                <option value="è‹¹æœ">è‹¹æœ</option>
                                <option value="é¦™è•‰">é¦™è•‰</option>
                                <option value="æ¤°å­">æ¤°å­</option>
                                <option value="å—ç“œ">å—ç“œ</option>
                                <option value="çŸ³æ¦´">çŸ³æ¦´</option>
                                <option value="è½¦å˜å­">è½¦å˜å­</option>
                                <option value="ç‰ç±³">ç‰ç±³</option>
                                <option value="è¥¿ç“œ">è¥¿ç“œ</option>
                                <option value="æ¢¨">æ¢¨</option>
                                <option value="ç™½èœ">ç™½èœ</option>
                                <option value="æ£‰èŠ±">æ£‰èŠ±</option>
                                <option value="æ©˜å­">æ©˜å­</option>
                                <option value="ç‰µç‰›èŠ±">ç‰µç‰›èŠ±</option>
                                <option value="é»„ç“œ">é»„ç“œ</option>
                                <option value="å¤§è±†">å¤§è±†</option>
                                <option value="ç«¹å­">ç«¹å­</option>
                                <option value="æ³¢æ–¯èŠ">æ³¢æ–¯èŠ</option>
                                <option value="ç•ªèŒ„">ç•ªèŒ„</option>
                                <option value="é¦™è‡">é¦™è‡</option>
                                <option value="åœŸè±†">åœŸè±†</option>
                            </select>
                        </div>
                        
                        <!-- é‡é‡è¾“å…¥ -->
                        <div>
                            <label class="block text-gray-700 mb-2 font-medium">é‡é‡ (kg)</label>
                            <div class="flex items-center flex-wrap">
                                <input type="range" id="weightSlider" min="0.01" max="230" step="0.1" value="10.0" class="w-[calc(100%-160px)] mr-4 mb-2">
                                <div class="flex items-center">
                                    <input type="number" id="weightInput" min="0.01" max="230" step="0.1" value="10.0" class="w-[80px] text-right px-2 py-1 border border-gray-300 rounded-lg input-focus">
                                    <span class="ml-1">kg</span>
                                    <div class="ml-2 flex flex-col">
                                        <button type="button" id="weightUp" class="p-1 hover:bg-gray-100 rounded-full" title="å¢åŠ ">
                                            <i class="fa fa-chevron-up"></i>
                                        </button>
                                        <button type="button" id="weightDown" class="p-1 hover:bg-gray-100 rounded-full" title="å‡å°‘">
                                            <i class="fa fa-chevron-down"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- åŸºç¡€çªå˜é€‰æ‹© -->
                        <div>
                            <label class="block text-gray-700 mb-2 font-medium">åŸºç¡€çªå˜</label>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="mutation-btn bg-gray-200 p-2 rounded-lg text-center hover:bg-gray-300 transition-colors" data-type="normal" data-value="1">æ™®é€š</button>
                                <button class="mutation-btn bg-gray-400 text-white p-2 rounded-lg text-center hover:bg-gray-500 transition-colors" data-type="silver" data-value="3">é“¶è‰²</button>
                                <button class="mutation-btn bg-yellow-400 p-2 rounded-lg text-center hover:bg-yellow-500 transition-colors" data-type="gold" data-value="10">é‡‘è‰²</button>
                                <button class="mutation-btn bg-blue-200 p-2 rounded-lg text-center hover:bg-blue-300 transition-colors" data-type="crystal" data-value="20">æ°´æ™¶</button>
                                <button class="mutation-btn bg-purple-300 p-2 rounded-lg text-center hover:bg-purple-400 transition-colors" data-type="streamer" data-value="30">æµå…‰</button>
                            </div>
                        </div>
                        
                        <!-- ç‰¹æ®Šçªå˜é€‰æ‹© -->
                        <div>
                            <label class="block text-gray-700 mb-2 font-medium">ç‰¹æ®Šçªå˜</label>
                            <div id="specialMutationContainer" class="grid grid-cols-2 gap-2">
                                <!-- åŠ¨æ€ç”Ÿæˆç‰¹æ®Šçªå˜é€‰é¡¹ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- å³ä¾§è¾“å…¥å’Œç»“æœ -->
                    <div class="space-y-4">
                        <!-- å¤©æ°”é€‰æ‹© -->
                        <div>
                            <div class="block text-gray-700 mb-2 font-medium flex items-center justify-between">
                                <span>å¤©æ°”é€‰æ‹©</span>
                                <div class="flex gap-2">
                                    <button id="preset1Btn" class="btn-preset">é¢„è®¾1 <span id="preset1Name">(é«˜åŠ æˆ)</span></button>
                                    <button id="preset2Btn" class="btn-preset">é¢„è®¾2 <span id="preset2Name">(ä¸­åŠ æˆ)</span></button>
                                    <button id="preset3Btn" class="btn-preset">æ»¡è¯æ¡å«æ´»åŠ¨å¤©æ°” <span id="preset3Name"></span></button>
                                    <button id="presetFullBtn" class="btn-preset bg-purple-100 text-purple-800 hover:bg-purple-200">æ»¡è¯æ¡ä¸å«æ´»åŠ¨å¤©æ°” <span id="presetFullName"></span></button>
                                    <button id="clearWeatherBtn" class="btn-preset bg-red-100 text-red-800 hover:bg-red-200">æ¸…ç©º</button>
                                </div>
                            </div>
                            
                            <!-- é¢„è®¾ä¿å­˜é¢æ¿ï¼ˆå‹¾é€‰åä¿å­˜ï¼‰ -->
                            <div class="bg-gray-50 p-3 rounded-lg mb-3 border border-gray-200 flex items-center justify-between">
                                <span class="text-sm font-medium text-gray-700">å‹¾é€‰å¤©æ°”å â†’ ä¿å­˜åˆ°é¢„è®¾</span>
                                <div class="flex gap-2">
                                    <button id="saveToPreset1" class="btn-save-preset">ä¿å­˜åˆ°é¢„è®¾1</button>
                                    <button id="saveToPreset2" class="btn-save-preset">ä¿å­˜åˆ°é¢„è®¾2</button>
                                </div>
                            </div>
                            
                            <!-- å‹¾é€‰æ•°é‡æ˜¾ç¤º -->
                            <div id="weatherCount" class="text-sm text-gray-600 mb-2">å·²å‹¾é€‰0ä¸ªå¤©æ°”</div>
                            
                            <div class="grid grid-cols-2 gap-2 max-h-[200px] overflow-y-auto p-2 border border-gray-200 rounded-lg">
                                <!-- å€æ•°1 -->
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-é¢¤æ —" class="weather-checkbox mr-2" data-value="1">
                                    <label for="weather-é¢¤æ —" class="weather-bg-light-gray">é¢¤æ —</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-æ½®æ¹¿" class="weather-checkbox mr-2" data-value="1">
                                    <label for="weather-æ½®æ¹¿" class="weather-bg-light-gray">æ½®æ¹¿</label>
                                </div>
                                <!-- å€æ•°2 -->
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-è¦†é›ª" class="weather-checkbox mr-2" data-value="2">
                                    <label for="weather-è¦†é›ª" class="weather-bg-light-gray">è¦†é›ª</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-è¿·é›¾" class="weather-checkbox mr-2" data-value="2">
                                    <label for="weather-è¿·é›¾" class="weather-bg-light-gray">è¿·é›¾</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-ç¼çƒ­" class="weather-checkbox mr-2" data-value="2">
                                    <label for="weather-ç¼çƒ­" class="weather-bg-light-gray">ç¼çƒ­</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-ç”Ÿæœº" class="weather-checkbox mr-2" data-value="2">
                                    <label for="weather-ç”Ÿæœº" class="weather-bg-light-gray">ç”Ÿæœº</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-æ²™å°˜" class="weather-checkbox mr-2" data-value="2">
                                    <label for="weather-æ²™å°˜" class="weather-bg-light-gray">æ²™å°˜</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-ç»“éœœ" class="weather-checkbox mr-2" data-value="2">
                                    <label for="weather-ç»“éœœ" class="weather-bg-light-gray">ç»“éœœ</label>
                                </div>
                                <!-- å€æ•°3 -->
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-è½é›·" class="weather-checkbox mr-2" data-value="3">
                                    <label for="weather-è½é›·" class="weather-bg-light-green">è½é›·</label>
                                </div>
                                <!-- å€æ•°4 -->
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-å†°å†»" class="weather-checkbox mr-2" data-value="4">
                                    <label for="weather-å†°å†»" class="weather-bg-light-green">å†°å†»</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-é™¶åŒ–" class="weather-checkbox mr-2" data-value="4">
                                    <label for="weather-é™¶åŒ–" class="weather-bg-light-green">é™¶åŒ–</label>
                                </div>
                                <!-- å€æ•°5 -->
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-å¹½é­‚" class="weather-checkbox mr-2" data-value="5">
                                    <label for="weather-å¹½é­‚" class="weather-bg-light-blue">å¹½é­‚</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-æƒŠé­‚å¤œ" class="weather-checkbox mr-2" data-value="5">
                                    <label for="weather-æƒŠé­‚å¤œ" class="weather-bg-light-blue">æƒŠé­‚å¤œ</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-å½©è™¹" class="weather-checkbox mr-2" data-value="5">
                                    <label for="weather-å½©è™¹" class="weather-bg-light-blue">å½©è™¹</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-è§å…‰" class="weather-checkbox mr-2" data-value="5">
                                    <label for="weather-è§å…‰" class="weather-bg-light-blue">è§å…‰</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-æå…‰" class="weather-checkbox mr-2" data-value="5">
                                    <label for="weather-æå…‰" class="weather-bg-light-blue">æå…‰</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-è¡€æœˆ" class="weather-checkbox mr-2" data-value="5">
                                    <label for="weather-è¡€æœˆ" class="weather-bg-light-blue">è¡€æœˆ</label>
                                </div>
                                <!-- å€æ•°8 -->
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-ç“·åŒ–" class="weather-checkbox mr-2" data-value="8">
                                    <label for="weather-ç“·åŒ–" class="weather-purple px-1">ç“·åŒ–</label>
                                </div>
                                <!-- å€æ•°10 -->
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-æ˜Ÿç¯" class="weather-checkbox mr-2" data-value="10">
                                    <label for="weather-æ˜Ÿç¯" class="weather-purple px-1">æ˜Ÿç¯</label>
                                </div>
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-äº®æ™¶æ™¶" class="weather-checkbox mr-2" data-value="10">
                                    <label for="weather-äº®æ™¶æ™¶" class="weather-purple px-1">äº®æ™¶æ™¶</label>
                                </div>
                                <!-- å€æ•°18 -->
                                <div class="weather-item flex items-center">
                                    <input type="checkbox" id="weather-éœ“è™¹" class="weather-checkbox mr-2" data-value="18">
                                    <label for="weather-éœ“è™¹" class="weather-neon px-1">éœ“è™¹</label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- è®¡ç®—ç»“æœ -->
                        <div class="bg-green-50 rounded-lg p-4 border border-green-200">
                            <h3 class="text-lg font-semibold text-green-700 mb-2">è®¡ç®—ç»“æœ</h3>
                            <div class="space-y-2">
                                <div class="flex justify-between hidden">
                                    <span class="text-gray-600">ç§æ—å€¼:</span>
                                    <span id="raceValue" class="font-medium">25</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">é‡é‡ç³»æ•°:</span>
                                    <span id="weightFactor" class="font-medium">10.00</span>
                                </div>
                                <div class="flex justify-between hidden">
                                    <span class="text-gray-600">çªå˜å€¼:</span>
                                    <span id="mutationValue" class="font-medium">1.00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">å¤©æ°”åŠ æˆ:</span>
                                    <span id="weatherBonus" class="font-medium">1.00</span>
                                </div>
                                <hr class="my-2 border-green-200">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-800 font-bold">æœ€ç»ˆä»·æ ¼çº¦:</span>
                                    <span id="finalPrice" class="text-2xl font-bold text-price-high">0.03ä¸‡</span>
                                </div>

                            </div>
                        </div>
                        
                        <!-- è®¡ç®—è§„åˆ™è¯´æ˜ -->
                        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200 hidden">
                            <h3 class="text-lg font-semibold text-green-700 mb-2 flex items-center">
                                <i class="fa fa-info-circle mr-2"></i>ä»·æ ¼è®¡ç®—è§„åˆ™
                            </h3>
                            <p class="text-center font-medium mb-2">ä»·æ ¼è®¡ç®—å…¬å¼:</p>
                            <p class="text-center text-lg mb-4">ä»·æ ¼ = (ç§æ—å€¼ Ã— é‡é‡<sup>1.5</sup>) Ã— æ€»çªå˜å€¼ Ã— (1 + Î£å¤©æ°”å€¼)</p>
                            
                            <div class="space-y-2 text-sm">
                                <p><span class="font-medium">ç§æ—å€¼:</span> æ¯ç§ä½œç‰©çš„åŸºç¡€ä»·å€¼</p>
                                <p><span class="font-medium">é‡é‡:</span> ä½œç‰©æˆç†Ÿæ—¶çš„é‡é‡ï¼Œå½±å“ä¸ºé‡é‡çš„1.5æ¬¡æ–¹</p>
                                <p><span class="font-medium">æ€»çªå˜å€¼:</span> åŸºç¡€çªå˜ Ã— ç‰¹æ®Šçªå˜çš„æ€»åŠ æˆå€æ•°</p>
                                <p><span class="font-medium">å¤©æ°”å€¼:</span> å½“å‰å¤©æ°”æ¡ä»¶çš„æ€»å’Œï¼Œå½±å“ä¸º1+å¤©æ°”å€¼æ€»å’Œ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

        
        <!-- æœå®æœ€å¤§å€¼ä¿¡æ¯ -->
        <div class="bg-white rounded-xl shadow-md p-4 card-hover mb-8">
            <h2 class="text-xl font-bold text-green-700 mb-3 flex items-center">
                <i class="fa fa-table mr-2"></i>æœå®çš„æœ€å¤§å€¼
            </h2>
            
            <div class="overflow-x-auto">
                <table class="w-full border-collapse text-sm">
                    <thead>
                        <tr class="bg-gray-100">
                            <th class="border border-gray-300 p-1 text-left">ä½œç‰©</th>
                            <th class="border border-gray-300 p-1 text-left">å˜å¼‚</th>
                            <th class="border border-gray-300 p-1 text-left">å•ä½kg</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border border-gray-300 p-1">æ³¢æ–¯èŠ</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">34.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">ç‰ç±³</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">42</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">çŒ•çŒ´æ¡ƒ</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">14.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">æ¾æœ</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">17.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">ç•ªèŒ„</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">10</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">åœŸè±†</td>
                            <td class="border border-gray-300 p-1">è–¯ç‰‡</td>
                            <td class="border border-gray-300 p-1">12</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">é¦™è‡</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">3.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">é»„ç“œ</td>
                            <td class="border border-gray-300 p-1">é»„ç“œè›‡</td>
                            <td class="border border-gray-300 p-1">14.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">ç«¹å­</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">140</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">å¤§è±†</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">3.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">æ¢¨å­</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">14.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">è¥¿ç“œ</td>
                            <td class="border border-gray-300 p-1">æ–¹å½¢</td>
                            <td class="border border-gray-300 p-1">170</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">ç‰µç‰›èŠ±</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">5.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">æ©˜å­</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">14.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">ç™½èœ</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">10</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">æ£‰èŠ±</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">5.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">è½¦å˜å­</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">10.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">å—ç“œ</td>
                            <td class="border border-gray-300 p-1">ä¸‡åœ£å¤œ</td>
                            <td class="border border-gray-300 p-1">220</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">æ¤°å­</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">42</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">è‹¹æœ</td>
                            <td class="border border-gray-300 p-1">ç³–è‘«èŠ¦</td>
                            <td class="border border-gray-300 p-1">40</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">çŸ³æ¦´</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">21.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">é¦™è•‰</td>
                            <td class="border border-gray-300 p-1">é¦™è•‰çŒ´</td>
                            <td class="border border-gray-300 p-1">10.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">è”æ</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">24.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">è‰è“</td>
                            <td class="border border-gray-300 p-1">è¿ä½“</td>
                            <td class="border border-gray-300 p-1">9</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">æ¦´è²</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">63.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">å¤§ç‹èŠ</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">10.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">è‘¡è„</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">10.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">å‘æ—¥è‘µ</td>
                            <td class="border border-gray-300 p-1">ç¬‘æ—¥è‘µ</td>
                            <td class="border border-gray-300 p-1">52</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">èŸ æ¡ƒ</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">21</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">æƒŠå¥‡è‡</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">10.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">ä»™äººæŒå¤§è±¡</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">34.5</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-300 p-1">é­”é¬¼æœå¤©æ¤’</td>
                            <td class="border border-gray-300 p-1"></td>
                            <td class="border border-gray-300 p-1">10.5</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- é¡µè„š -->
        <footer class="mt-12 text-center text-gray-500 text-sm">
            <p class="mb-2">Â© 2026 è›‹ä»”ç–¯ç‹‚å†œåœºæœå®è®¡ç®—å™¨ | ç‰ˆæƒæ‰€æœ‰ | ä½œè€…ï¼šGitHub@liulixing945</p>
            <p>ã€å…è´£å£°æ˜ã€‘</p>
            <p>1. æœ¬è®¡ç®—å™¨ä»…ä¸ºã€Šè›‹ä»”æ´¾å¯¹ã€‹ç–¯ç‹‚å†œåœºç©æ³•çš„<strong>éå®˜æ–¹å‚è€ƒå·¥å…·</strong>ï¼Œå®é™…æœå®æ”¶ç›Šä»¥æ¸¸æˆå†…æ•°æ®ä¸ºå‡†ï¼›</p>
            <p>2. æœ¬å·¥å…·åŸºäºå…¬å¼€æ¸¸æˆè§„åˆ™åˆ¶ä½œï¼Œä¸ä¿è¯å†…å®¹å®Œå…¨å‡†ç¡®ï¼Œä»…ä¾›ç©å®¶äº¤æµå­¦ä¹ ä½¿ç”¨ï¼›</p>
            <p>3. è¯·å‹¿å°†æœ¬å·¥å…·ç”¨äºå•†ä¸šç”¨é€”ï¼Œå› è¿è§„ä½¿ç”¨äº§ç”Ÿçš„é£é™©ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚</p>
        </footer>
    </div>

    <script>
        // æ•°æ®å®šä¹‰ï¼ˆæ³¢æ–¯èŠç§æ—å€¼æ”¹ä¸ºç²¾ç¡®å€¼43.46ï¼‰
        const cropData = {
            'åœŸè±†': 25,
            'è‰è“': 8700,
            'é»„ç“œ': 215.08,
            'å‘æ—¥è‘µ': 370,
            'è¥¿ç“œ': 10.71,
            'è‹¹æœ': 1500,
            'é¦™è•‰': 2000,
            'çŒ•çŒ´æ¡ƒ': 2150,
            'èŸ æ¡ƒ': 9000,
            'å¤§ç‹èŠ': 24875,
            'æ¦´è²': 200,
            'è‘¡è„': 25000,
            'è”æ': 800,
            'æƒŠå¥‡è˜‘': 49698,
            'ä»™äººæŒè±¡': 9523,
            'æ¾æœ': 4600,
            'è½¦å˜å­': 1670,
            'å—ç“œ': 13,
            'ç‰ç±³': 100,
            'æ³¢æ–¯èŠ': 43.46,
            'æ¢¨': 488,
            'çŸ³æ¦´': 527,
            'æ£‰èŠ±': 2526,
            'æ¤°å­': 145,
            'ç•ªèŒ„': 66,
            'å¤§è±†': 2586,
            'ç‰µç‰›èŠ±': 2136,
            'ç™½èœ': 582,
            'æ©˜å­': 539,
            'é­”é¬¼æœå¤©æ¤’': 33113,
            'é¦™è‡': 700,
            'ç«¹å­': 12
        };
        
        // ä½œç‰©æœ€å¤§é‡é‡æ˜ å°„ï¼ˆå•ä½ï¼škgï¼‰
        const cropMaxWeight = {
            // 5kg max
            'é¦™è‡': 5,
            'å¤§è±†': 5,
            
            // 15kg max
            'ç‰µç‰›èŠ±': 15,
            'æ£‰èŠ±': 15,
            'è‰è“': 15,
            'ç•ªèŒ„': 15,
            'ç™½èœ': 15,
            'è½¦å˜å­': 15,
            'é¦™è•‰': 15,
            'å¤§ç‹èŠ': 15,
            'è‘¡è„': 15,
            'æƒŠå¥‡è˜‘': 15,
            'é­”é¬¼æœå¤©æ¤’': 15,
            
            // 20kg max
            'åœŸè±†': 20,
            'çŒ•çŒ´æ¡ƒ': 20,
            'æ¾æœ': 20,
            'é»„ç“œ': 20,
            'æ¢¨': 20,
            'æ©˜å­': 20,
            
            // 30kg max
            'èŸ æ¡ƒ': 30,
            'çŸ³æ¦´': 30,
            'è”æ': 30,
            
            // 50kg max
            'æ³¢æ–¯èŠ': 50,
            'ä»™äººæŒè±¡': 50,
            'è‹¹æœ': 50,
            'ç‰ç±³': 50,
            'æ¤°å­': 50,
            
            // 70kg max
            'å‘æ—¥è‘µ': 70,
            'æ¦´è²': 70,
            
            // 225kg max
            'ç«¹å­': 225,
            'è¥¿ç“œ': 225,
            'å—ç“œ': 225
        };
        
        const specialMutationData = {
            'åœŸè±†': { 'è–¯ç‰‡': 1.5 },
            'é»„ç“œ': { 'é»„ç“œè›‡': 2 },
            'è¥¿ç“œ': { 'æ–¹å½¢': 1.5 },
            'å—ç“œ': { 'ä¸‡åœ£å¤œ': 2 },
            'è‹¹æœ': { 'ç³–è‘«èŠ¦': 1.5 },
            'é¦™è•‰': { 'é¦™è•‰çŒ´': 2 },
            'è‰è“': { 'è¿ä½“': 1.5 },
            'å‘æ—¥è‘µ': { 'ç¬‘æ—¥è‘µ': 10 },
            'çŒ•çŒ´æ¡ƒ': {},
            'èŸ æ¡ƒ': {},
            'å¤§ç‹èŠ': {},
            'æ¦´è²': {},
            'è‘¡è„': {},
            'è”æ': {},
            'æƒŠå¥‡è˜‘': {},
            'ä»™äººæŒè±¡': {},
            'æ¾æœ': {},
            'è½¦å˜å­': {},
            'ç‰ç±³': {},
            'æ³¢æ–¯èŠ': {},
            'æ¢¨': {},
            'çŸ³æ¦´': {},
            'æ£‰èŠ±': {},
            'æ¤°å­': {},
            'ç•ªèŒ„': {},
            'å¤§è±†': {},
            'ç‰µç‰›èŠ±': {},
            'ç™½èœ': {},
            'æ©˜å­': {},
            'é­”é¬¼æœå¤©æ¤’': {},
            'é¦™è‡': {},
            'ç«¹å­': {}
        };
        
        // åˆå§‹åŒ–å¤©æ°”é¢„è®¾
        let weatherPresets = {
            preset1: ['éœ“è™¹', 'æ˜Ÿç¯', 'äº®æ™¶æ™¶'],
            preset2: ['è¡€æœˆ', 'å½©è™¹', 'æå…‰'],
            preset3: ['ç“·åŒ–', 'äº®æ™¶æ™¶', 'è§å…‰', 'è½é›·', 'å†°å†»', 'é¢¤æ —', 'è¦†é›ª', 'æ½®æ¹¿', 'è¿·é›¾', 'ç”Ÿæœº', 'å½©è™¹', 'æ˜Ÿç¯', 'æå…‰', 'éœ“è™¹'],
            presetFull: ['é¢¤æ —', 'æ½®æ¹¿', 'è¦†é›ª', 'è¿·é›¾', 'è½é›·', 'å½©è™¹', 'è§å…‰', 'å†°å†»', 'ç“·åŒ–', 'æ˜Ÿç¯', 'äº®æ™¶æ™¶', 'éœ“è™¹', 'ç”Ÿæœº']
        };
        
        // ä¼˜åŒ–åçš„å•ä½æ ¼å¼åŒ–å‡½æ•°ï¼ˆå‡å°‘åå·®ï¼‰
        function formatNumber(num) {
            if (num >= 100000000) { 
                return (num / 100000000).toFixed(2) + 'äº¿';
            } else if (num >= 10000) { 
                return (num / 10000).toFixed(2) + 'ä¸‡';
            } else { 
                return num.toLocaleString(undefined, { maximumFractionDigits: 2 });
            }
        }
        
        // DOMå…ƒç´ è·å–
        const cropSelect = document.getElementById('cropSelect');
        const weightSlider = document.getElementById('weightSlider');
        const weightInput = document.getElementById('weightInput');
        const weightUp = document.getElementById('weightUp');
        const weightDown = document.getElementById('weightDown');
        const mutationBtns = document.querySelectorAll('.mutation-btn');
        const weatherCheckboxes = document.querySelectorAll('.weather-checkbox');
        const specialMutationContainer = document.getElementById('specialMutationContainer');
        
        const raceValueEl = document.getElementById('raceValue');
        const weightFactorEl = document.getElementById('weightFactor');
        const mutationValueEl = document.getElementById('mutationValue');
        const weatherBonusEl = document.getElementById('weatherBonus');
        const finalPriceEl = document.getElementById('finalPrice');
        
        const preset1Btn = document.getElementById('preset1Btn');
        const preset2Btn = document.getElementById('preset2Btn');
        const preset3Btn = document.getElementById('preset3Btn');

        const presetFullBtn = document.getElementById('presetFullBtn');
        const clearWeatherBtn = document.getElementById('clearWeatherBtn');
        
        const saveToPreset1 = document.getElementById('saveToPreset1');
        const saveToPreset2 = document.getElementById('saveToPreset2');

        
        const preset1Name = document.getElementById('preset1Name');
        const preset2Name = document.getElementById('preset2Name');

        const preset3Name = document.getElementById('preset3Name');
        const presetFullName = document.getElementById('presetFullName');
        
        // çŠ¶æ€å˜é‡
        let selectedMutationValue = 1;
        let selectedSpecialMutationValue = 1;
        
        // åˆå§‹åŒ–å‡½æ•°
        function init() {
            // æ›´æ–°é‡é‡é™åˆ¶å‡½æ•°
            function updateWeightLimit() {
                const selectedCrop = cropSelect.value;
                const maxWeight = cropMaxWeight[selectedCrop] || 225; // é»˜è®¤225kg
                
                // æ›´æ–°æ»‘å—å’Œè¾“å…¥æ¡†çš„æœ€å¤§å€¼
                weightSlider.max = maxWeight;
                weightInput.max = maxWeight;
                
                // å¦‚æœå½“å‰é‡é‡è¶…è¿‡æœ€å¤§é‡é‡ï¼Œé‡ç½®ä¸ºæœ€å¤§é‡é‡
                let currentWeight = parseFloat(weightSlider.value);
                if (currentWeight > maxWeight) {
                    currentWeight = maxWeight;
                    weightSlider.value = currentWeight;
                    weightInput.value = currentWeight;
                    calculatePrice();
                }
            }
            
            // ä½œç‰©é€‰æ‹©äº‹ä»¶
            cropSelect.addEventListener('change', () => {
                updateSpecialMutations();
                updateWeightLimit();
                calculatePrice();
            });
            
            // åˆå§‹åŒ–æ—¶è®¾ç½®é‡é‡é™åˆ¶
            updateWeightLimit();
            
            // é‡é‡æ»‘å—ä¸è¾“å…¥æ¡†è”åŠ¨
            weightSlider.addEventListener('input', () => {
                const value = parseFloat(weightSlider.value);
                const roundedValue = Math.round(value * 10) / 10; // ç¡®ä¿æ˜¯0.1çš„å€æ•°
                weightInput.value = roundedValue;
                calculatePrice();
            });
            
            // é‡é‡è¾“å…¥æ¡†äº‹ä»¶
            weightInput.addEventListener('input', () => {
                let value = parseFloat(weightInput.value);
                const maxWeight = parseFloat(weightInput.max);
                
                // éªŒè¯è¾“å…¥å€¼
                if (isNaN(value) || value < 0.01) value = 0.01;
                if (value > maxWeight) value = maxWeight;
                
                // ç¡®ä¿æ˜¯0.1çš„å€æ•°
                const roundedValue = Math.round(value * 10) / 10;
                weightInput.value = roundedValue;
                
                // æ›´æ–°æ»‘å—
                weightSlider.value = roundedValue;
                
                calculatePrice();
            });
            
            // é‡é‡å¢åŠ æŒ‰é’®äº‹ä»¶
            weightUp.addEventListener('click', () => {
                let value = parseFloat(weightInput.value);
                const maxWeight = parseFloat(weightInput.max);
                value += 0.1;
                
                // éªŒè¯è¾“å…¥å€¼
                if (value > maxWeight) value = maxWeight;
                
                // ç¡®ä¿æ˜¯0.1çš„å€æ•°
                const roundedValue = Math.round(value * 10) / 10;
                weightInput.value = roundedValue;
                
                // æ›´æ–°æ»‘å—
                weightSlider.value = roundedValue;
                
                calculatePrice();
            });
            
            // é‡é‡å‡å°‘æŒ‰é’®äº‹ä»¶
            weightDown.addEventListener('click', () => {
                let value = parseFloat(weightInput.value);
                value -= 0.1;
                
                // éªŒè¯è¾“å…¥å€¼
                if (value < 0.01) value = 0.01;
                
                // ç¡®ä¿æ˜¯0.1çš„å€æ•°
                const roundedValue = Math.round(value * 10) / 10;
                weightInput.value = roundedValue;
                
                // æ›´æ–°æ»‘å—
                weightSlider.value = roundedValue;
                
                calculatePrice();
            });
            
            // åŸºç¡€çªå˜æŒ‰é’®äº‹ä»¶
            mutationBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    mutationBtns.forEach(b => b.classList.remove('ring-2', 'ring-blue-500'));
                    btn.classList.add('ring-2', 'ring-blue-500');
                    selectedMutationValue = parseFloat(btn.dataset.value);
                    calculatePrice();
                });
            });
            
            // æ›´æ–°å‹¾é€‰å¤©æ°”æ•°é‡æ˜¾ç¤º
            function updateWeatherCount() {
                let checkedCount = 0;
                weatherCheckboxes.forEach(checkbox => {
                    if (checkbox.checked) checkedCount++;
                });
                const weatherCountEl = document.getElementById('weatherCount');
                if (weatherCountEl) {
                    weatherCountEl.textContent = `å·²å‹¾é€‰${checkedCount}ä¸ªå¤©æ°”`;
                }
            }
            
            // å¤©æ°”å¤é€‰æ¡†äº‹ä»¶
            weatherCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    // ç“·åŒ–å’Œé™¶åŒ–äº’æ–¥é€‰æ‹©
                    if (checkbox.id === 'weather-ç“·åŒ–' && checkbox.checked) {
                        const taohuaCheckbox = document.getElementById('weather-é™¶åŒ–');
                        if (taohuaCheckbox && taohuaCheckbox.checked) {
                            taohuaCheckbox.checked = false;
                        }
                    } else if (checkbox.id === 'weather-é™¶åŒ–' && checkbox.checked) {
                        const cihuaCheckbox = document.getElementById('weather-ç“·åŒ–');
                        if (cihuaCheckbox && cihuaCheckbox.checked) {
                            cihuaCheckbox.checked = false;
                        }
                        // é™¶åŒ–å’Œæ²™å°˜äº’æ–¥é€‰æ‹©
                        const shachenCheckbox = document.getElementById('weather-æ²™å°˜');
                        if (shachenCheckbox && shachenCheckbox.checked) {
                            shachenCheckbox.checked = false;
                        }
                    }
                    
                    // é™¶åŒ–å’Œæ²™å°˜äº’æ–¥é€‰æ‹©
                    if (checkbox.id === 'weather-æ²™å°˜' && checkbox.checked) {
                        const taohuaCheckbox = document.getElementById('weather-é™¶åŒ–');
                        if (taohuaCheckbox && taohuaCheckbox.checked) {
                            taohuaCheckbox.checked = false;
                        }
                    }
                    
                    // å†°å†»å’Œç»“éœœäº’æ–¥é€‰æ‹©
                    if (checkbox.id === 'weather-å†°å†»' && checkbox.checked) {
                        const jieshuangCheckbox = document.getElementById('weather-ç»“éœœ');
                        if (jieshuangCheckbox && jieshuangCheckbox.checked) {
                            jieshuangCheckbox.checked = false;
                        }
                    } else if (checkbox.id === 'weather-ç»“éœœ' && checkbox.checked) {
                        const bingdongCheckbox = document.getElementById('weather-å†°å†»');
                        if (bingdongCheckbox && bingdongCheckbox.checked) {
                            bingdongCheckbox.checked = false;
                        }
                    }
                    
                    // æ›´æ–°å‹¾é€‰æ•°é‡
                    updateWeatherCount();
                    calculatePrice();
                });
            });
            
            // åˆå§‹æ›´æ–°å‹¾é€‰æ•°é‡
            updateWeatherCount();
            
            // å¤©æ°”é¢„è®¾æŒ‰é’®äº‹ä»¶
        preset1Btn.addEventListener('click', () => {
            applyWeatherPreset('preset1');
            updateWeatherCount();
        });
        preset2Btn.addEventListener('click', () => {
            applyWeatherPreset('preset2');
            updateWeatherCount();
        });
        preset3Btn.addEventListener('click', () => {
            applyWeatherPreset('preset3');
            updateWeatherCount();
        });
        presetFullBtn.addEventListener('click', () => {
            applyWeatherPreset('presetFull');
            updateWeatherCount();
        });
        clearWeatherBtn.addEventListener('click', () => {
            clearAllWeather();
            updateWeatherCount();
        });
            
            // ä¿å­˜åˆ°é¢„è®¾æŒ‰é’®äº‹ä»¶
        saveToPreset1.addEventListener('click', () => saveCurrentWeatherToPreset('preset1'));
        saveToPreset2.addEventListener('click', () => saveCurrentWeatherToPreset('preset2'));
            
            // åˆå§‹åŒ–ç‰¹æ®Šçªå˜é€‰é¡¹
            updateSpecialMutations();
            
            // é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ªåŸºç¡€çªå˜æŒ‰é’®
            if (mutationBtns.length > 0) mutationBtns[0].click();
            
            // åˆå§‹è®¡ç®—ä»·æ ¼
            calculatePrice();
            
            // æ›´æ–°é¢„è®¾åç§°æ˜¾ç¤º
            updatePresetNames();
        }
        
        // ä¿å­˜å½“å‰å‹¾é€‰çš„å¤©æ°”åˆ°æŒ‡å®šé¢„è®¾
        function saveCurrentWeatherToPreset(presetKey) {
            const selectedWeathers = [];
            weatherCheckboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const weatherName = checkbox.id.replace('weather-', '');
                    selectedWeathers.push(weatherName);
                }
            });
            
            if (selectedWeathers.length === 0) {
                alert('è¯·å…ˆå‹¾é€‰è‡³å°‘ä¸€ä¸ªå¤©æ°”ï¼');
                return;
            }
            
            weatherPresets[presetKey] = selectedWeathers;
            updatePresetNames();
            alert(`å·²å°†å½“å‰å‹¾é€‰çš„å¤©æ°”ä¿å­˜åˆ°${presetKey.replace('preset', 'é¢„è®¾')}ï¼`);
        }
        
        // æ›´æ–°é¢„è®¾åç§°æ˜¾ç¤º
        function updatePresetNames() {
            preset1Name.textContent = `(${weatherPresets.preset1.join('ã€')})`;
            preset2Name.textContent = `(${weatherPresets.preset2.join('ã€')})`;
            preset3Name.textContent = '';
            presetFullName.textContent = `(${weatherPresets.presetFull.length}ä¸ª)`;
        }
        
        // åº”ç”¨å¤©æ°”é¢„è®¾
        function applyWeatherPreset(presetKey) {
            clearAllWeather();
            const presetWeathers = weatherPresets[presetKey];
            
            presetWeathers.forEach(weatherName => {
                const checkbox = document.getElementById(`weather-${weatherName}`);
                if (checkbox) {
                    checkbox.checked = true;
                } else {
                    alert(`æœªæ‰¾åˆ°å¤©æ°”ã€Œ${weatherName}ã€ï¼Œè¯·æ£€æŸ¥é¢„è®¾é…ç½®ï¼`);
                }
            });
            
            calculatePrice();
        }
        
        // æ¸…ç©ºæ‰€æœ‰å¤©æ°”é€‰æ‹©
        function clearAllWeather() {
            weatherCheckboxes.forEach(checkbox => {
                checkbox.checked = false;
            });
            calculatePrice();
        }
        
        // æ›´æ–°ç‰¹æ®Šçªå˜é€‰é¡¹
        function updateSpecialMutations() {
            const selectedCrop = cropSelect.value;
            specialMutationContainer.innerHTML = '';
            
            selectedSpecialMutationValue = 1;
            
            // æ·»åŠ "æ— ç‰¹æ®Šçªå˜"é€‰é¡¹
            const noBtn = document.createElement('button');
            noBtn.className = 'special-mutation-btn bg-gray-200 p-2 rounded-lg text-center hover:bg-gray-300 transition-colors ring-2 ring-blue-500';
            noBtn.dataset.type = 'none';
            noBtn.dataset.value = '1';
            noBtn.textContent = 'æ— ç‰¹æ®Šçªå˜';
            noBtn.addEventListener('click', () => {
                document.querySelectorAll('.special-mutation-btn').forEach(b => b.classList.remove('ring-2', 'ring-blue-500'));
                noBtn.classList.add('ring-2', 'ring-blue-500');
                selectedSpecialMutationValue = 1;
                calculatePrice();
            });
            specialMutationContainer.appendChild(noBtn);
            
            // æ·»åŠ å¯¹åº”ä½œç‰©çš„ç‰¹æ®Šçªå˜é€‰é¡¹
            if (specialMutationData[selectedCrop] && Object.keys(specialMutationData[selectedCrop]).length > 0) {
                const mutations = specialMutationData[selectedCrop];
                for (const [name, value] of Object.entries(mutations)) {
                    const btn = document.createElement('button');
                    btn.className = 'special-mutation-btn bg-gray-200 p-2 rounded-lg text-center hover:bg-gray-300 transition-colors';
                    btn.dataset.type = name;
                    btn.dataset.value = value;
                    btn.textContent = name;
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('.special-mutation-btn').forEach(b => b.classList.remove('ring-2', 'ring-blue-500'));
                        btn.classList.add('ring-2', 'ring-blue-500');
                        selectedSpecialMutationValue = value;
                        calculatePrice();
                    });
                    specialMutationContainer.appendChild(btn);
                }
            }
        }
        
        // ä¼˜åŒ–åçš„ä»·æ ¼è®¡ç®—å‡½æ•°ï¼ˆå»æ‰Math.roundï¼Œå‡å°‘åå·®ï¼‰
        function calculatePrice() {
            const selectedCrop = cropSelect.value;
            const raceValue = cropData[selectedCrop];
            const weight = parseFloat(weightSlider.value);
            const weightFactor = Math.pow(weight, 1.5);
            
            // æ€»çªå˜å€¼ = åŸºç¡€çªå˜ Ã— ç‰¹æ®Šçªå˜
            const totalMutationValue = selectedMutationValue * selectedSpecialMutationValue;
            
            // è®¡ç®—å¤©æ°”æ€»åŠ æˆ
            let weatherSum = 0;
            weatherCheckboxes.forEach(checkbox => {
                if (checkbox.checked) weatherSum += parseFloat(checkbox.dataset.value);
            });
            const weatherBonus = 1 + weatherSum;
            
            // å…³é”®ä¿®æ”¹ï¼šå»æ‰Math.roundï¼Œä¿ç•™é«˜ç²¾åº¦åŸå§‹è®¡ç®—ç»“æœ
            const finalPrice = raceValue * weightFactor * totalMutationValue * weatherBonus;
            
            // æ›´æ–°æ˜¾ç¤º
            raceValueEl.textContent = formatNumber(raceValue);
            weightFactorEl.textContent = weightFactor.toFixed(2);
            mutationValueEl.textContent = totalMutationValue.toFixed(2);
            weatherBonusEl.textContent = weatherBonus.toFixed(2);
            finalPriceEl.textContent = formatNumber(finalPrice);
            

            
            // ä»·æ ¼é¢œè‰²åˆ†çº§
            if (finalPrice >= 1000000) {
                finalPriceEl.className = 'text-2xl font-bold text-price-high';
            } else if (finalPrice >= 100000) {
                finalPriceEl.className = 'text-2xl font-bold text-price-medium';
            } else {
                finalPriceEl.className = 'text-2xl font-bold text-price-low';
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', () => {
            init();
        });
    </script>
</body>
</html>
